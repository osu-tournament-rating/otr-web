# === README ===
# Rename this file to `.env` and fill out the variables as needed.
# Docker & the applications rely on this file being named `.env` in the root of the repository.
# Local-first variables appear without a prefix; Docker-specific overrides use
# the `DOCKER_` prefix and are consumed automatically by docker compose.
#
# For example, the DATABASE_URL var is used in local development (i.e. `bun run dev`)
# but not anywhere else. It exists because the syntax for the connection string is different
# when running outside of docker-compose. Having a docker-specific variant removes
# the need to modify vars between docker/non-docker runs locally.
# === README ===

# Config

## Public URLs
NEXT_PUBLIC_APP_BASE_URL=http://localhost:3000

## Database (not used in docker-compose)
DATABASE_URL=postgresql://postgres:password@localhost:5432/postgres

## RabbitMQ (not used in docker-compose)
RABBITMQ_AMQP_URL=amqp://admin:admin@localhost:5672/

## BetterAuth
BETTER_AUTH_SECRET=replace-with-secret
BETTER_AUTH_URL=http://localhost:3000

## osu! API v2 credentials and rate limits
DATA_WORKER_OSU_CLIENT_ID=replace-with-worker-client-id
DATA_WORKER_OSU_CLIENT_SECRET=replace-with-worker-client-secret
WEB_OSU_CLIENT_ID=replace-with-web-client-id
WEB_OSU_CLIENT_SECRET=replace-with-web-client-secret

## osu! / osu!track rate limits
OSU_API_RATE_LIMIT_REQUESTS=60
OSU_API_RATE_LIMIT_WINDOW_SECONDS=60
OSUTRACK_API_RATE_LIMIT_REQUESTS=60
OSUTRACK_API_RATE_LIMIT_WINDOW_SECONDS=60

## Auto refetching (true in production)
PLAYER_OSU_AUTO_REFETCH_ENABLED=false
PLAYER_OSU_REFETCH_INTERVAL_MINUTES=30
PLAYER_OSU_REFETCH_OUTDATED_DAYS=7

PLAYER_OSUTRACK_AUTO_REFETCH_ENABLED=false
PLAYER_OSUTRACK_REFETCH_INTERVAL_MINUTES=30
PLAYER_OSUTRACK_REFETCH_OUTDATED_DAYS=60

# === Docker Configuration ===

## Database
DOCKER_DATABASE_URL=postgresql://postgres:password@db:5432/postgres
DOCKER_POSTGRES_USER=postgres
DOCKER_POSTGRES_PASSWORD=password
DOCKER_POSTGRES_DB=postgres

## RabbitMQ
DOCKER_RABBITMQ_AMQP_URL=amqp://admin:admin@rabbitmq:5672/
DOCKER_RABBITMQ_USER=admin
DOCKER_RABBITMQ_PASSWORD=admin

## Deploy tag (populated by CI as DOCKER_DEPLOY_TAG=...)
